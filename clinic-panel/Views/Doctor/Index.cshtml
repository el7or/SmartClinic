@model IEnumerable<clinic_panel.DTOs.DoctorIndexDTO>

@{
    ViewBag.Title = "الأطباء";
}

<h2>الأطباء</h2>

@*<p>
        @Html.ActionLink("إضافة طبيب", "Create")
    </p>*@

<table class="table table-bordered table-striped">
    <tr class="info">
        <th>
            اسم الطبيب
        </th>
        <th>
            التخصص
        </th>
        <th>
            باقة الاشتراك
        </th>
        <th>
            بداية الاشتراك
        </th>
        <th>
            نهاية الاشتراك
        </th>
        <th>
            مبلغ الاشتراك
        </th>
        <th>
            العيادات
        </th>
        <th>
            التفعيل
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.FullName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Specialty)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Plan)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.StartPlanDate)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.EndPlanDate)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.SubscriptionsPaid) ج.م
            </td>
            <td>
                <ul>
                    @foreach (var clinic in item.Clinics)
                    {
                        <li>@clinic</li>
                    }
                </ul>
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.IsActive)
            </td>
            <td>
                @*
                    @Html.ActionLink("التفاصيل", "Details", new { id = item.Id }, new { @class = "btn btn-primary" })
                    <div class="btn-group" role="group">
                        <button id="btnGroupDrop1" type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            الإعدادات
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                            <li> @Html.ActionLink("الأسعار", "Prices", "Clinic", new { id = item.ClinicId }, new { @class = "dropdown-item" })</li>
                            <li> @Html.ActionLink("الشكاوى", "DoctorComplaints", "Complaint", new { id = item.Id }, new { @class = "dropdown-item" })</li>
                            <li> @Html.ActionLink("الفحوصات", "DoctorExamination", "Examination", new { id = item.Id }, new { @class = "dropdown-item" })</li>
                            <li> @Html.ActionLink("التشخيصات", "DoctorDiagnosis", "Diagnosis", new { id = item.Id }, new { @class = "dropdown-item" })</li>
                            <li> @Html.ActionLink("الأشعة", "DoctorRays", "Ray", new { id = item.Id }, new { @class = "dropdown-item" })</li>
                            <li> @Html.ActionLink("التحاليل", "DoctorAnalysis", "Analysis", new { id = item.Id }, new { @class = "dropdown-item" })</li>
                            <li> @Html.ActionLink("العمليات", "DoctorOperations", "Operation", new { id = item.Id }, new { @class = "dropdown-item" })</li>
                        </ul>
                    </div>*@
                @if (item.Clinics.Count < item.PlanClinicsCount)
                {
                    @Html.ActionLink("إضافة الطبيب لعيادة أخرى", "AddClinic", new { id = item.Id })
                }
            </td>
        </tr>
    }

</table>
