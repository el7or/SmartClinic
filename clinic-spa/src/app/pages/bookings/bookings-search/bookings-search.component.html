<nb-card>
  <nb-card-header>
    <button nbButton [routerLink]="['/pages/patients/details/new']" hero size="small" status="success">
      <nb-icon icon="file-add-outline"></nb-icon><span langg>إضافة حجز جديد</span>
    </button>
  </nb-card-header>
  <nb-card-body>
    <form #form="ngForm" (ngSubmit)="onSearch(form)" aria-labelledby="title" [nbSpinner]="formLoading">
      <div class="row mb-2">
        <div class="col-md-6 text-center">
          <input nbInput ngModel #phone="ngModel" name="phone" [placeholder]="'بحث بإسم المريض'" pattern="[0-9]*"
            minlength="10" [status]="phone.dirty ? (phone.invalid  ? 'danger' : 'success') : ''" fullWidth
            fieldSize="small">
          <ng-container *ngIf="phone.invalid && phone.touched">
            <p class="error-message" *ngIf="phone?.errors.pattern || phone?.errors.minlength" langg>
              Mobile must be real number!
            </p>
          </ng-container>
          <input nbInput ngModel #phone="ngModel" name="phone" [placeholder]="'بحث برقم الموبايل'" pattern="[0-9]*"
            minlength="10" [status]="phone.dirty ? (phone.invalid  ? 'danger' : 'success') : ''" fullWidth
            fieldSize="small">
          <ng-container *ngIf="phone.invalid && phone.touched">
            <p class="error-message" *ngIf="phone?.errors.pattern || phone?.errors.minlength" langg>
              Mobile must be real number!
            </p>
          </ng-container>
          <input nbInput ngModel #phone="ngModel" name="phone" [placeholder]="'بحث بكود المريض'" pattern="[0-9]*"
            minlength="10" [status]="phone.dirty ? (phone.invalid  ? 'danger' : 'success') : ''" fullWidth
            fieldSize="small">
          <ng-container *ngIf="phone.invalid && phone.touched">
            <p class="error-message" *ngIf="phone?.errors.pattern || phone?.errors.minlength" langg>
              Mobile must be real number!
            </p>
          </ng-container>
          <button nbButton status="primary" size="small">
            <nb-icon icon="search-outline"></nb-icon><span langg>search</span>
          </button>
        </div>
        <div class="col-md-6">
          <div class="row text-center">
            <div class="col-6">
              <label class="label" for="input-bookingDate" langg>تاريخ الحجوزات:</label>
            </div>
            <div class="col-6">
              <input type="text" bsDatepicker nbInput #bookingDate name="bookingDate" id="input-bookingDate" fullWidth
                required
                [bsConfig]="{ adaptivePosition: true, containerClass: 'theme-dark-blue', showWeekNumbers: false }"
                (bsValueChange)="onChooseBookingsDate(bookingDate)" [bsValue]="today"
                [status]="bookingDate.touched ? (bookingDate.invalid  ? 'danger' : 'success') : ''">
            </div>
            <div class="col-6">
              <label class="label" for="input-bookingDate" langg>عدد الحجوزات:</label>
            </div>
            <div class="col-6">
              <input type="text" nbInput #bookingDate name="bookingDate" id="input-bookingDate" fullWidth required
                value="15">
            </div>
          </div>
        </div>
      </div>
    </form>
    <table class="table table-striped table-hover">
      <thead class="thead-dark">
        <tr>
          <th>#</th>
          <th langg>أسبقية الحضور</th>
          <th langg>الإسم</th>
          <th langg>الموبايل</th>
          <th langg>السن</th>
          <th langg>نوع الحجز</th>
          <th langg>خدمات مضافة</th>
          <th langg>المبلغ</th>
          <th langg>تم الحضور</th>
          <th langg>حالة الدخول</th>
          <th langg>إلغاء الحجز</th>
          <th langg>تغيير موعد الحجز</th>
          <th langg>ملف المريض</th>
          <th langg>ساعة الدخول</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <!-- <tr>
          <td>1</td>
          <td>محمد أحمد علي</td>
          <td>0224165456</td>
          <td>20
            <button nbButton ghost size="small" status="warning" [nbTooltip]="'Visits Details' | langg">
              <nb-icon icon="info"></nb-icon>
            </button>
          </td>
          <td class="text-center">
            <button nbButton [routerLink]="['/pages/patients/details',1]" size="small" status="info" langg>Patient
              Profile</button>&nbsp;
            <button nbButton size="small" status="success" langg>Book</button>&nbsp;
            <button nbButton (click)="onDeleteBooking()" size="small" status="danger" langg>Delete</button>
          </td>
        </tr>
        <tr>
          <td>2</td>
          <td>منى السيد عبد الحفيظ</td>
          <td>01245646546</td>
          <td>5
            <button nbButton ghost size="small" status="warning" [nbTooltip]="'Visits Details' | langg">
              <nb-icon icon="info"></nb-icon>
            </button></td>
          <td class="text-center">
            <button nbButton [routerLink]="['/pages/patients/details',2]" size="small" status="info" langg>Patient
              Profile</button>&nbsp;
            <button nbButton size="small" status="success" langg>Book</button>&nbsp;
            <button nbButton (click)="onDeleteBooking()" size="small" status="danger" langg>Delete</button>
          </td>
        </tr>
        <tr>
          <td>3</td>
          <td>حسين محمود جلال</td>
          <td>021548646</td>
          <td>7
            <button nbButton ghost size="small" status="warning" [nbTooltip]="'Visits Details' | langg">
              <nb-icon icon="info"></nb-icon>
            </button></td>
          <td class="text-center">
            <button nbButton [routerLink]="['/pages/patients/details',3]" size="small" status="info" langg>Patient
              Profile</button>&nbsp;
            <button nbButton size="small" status="success" langg>Book</button>&nbsp;
            <button nbButton (click)="onDeleteBooking()" size="small" status="danger" langg>Delete</button>
          </td>
        </tr>
        <tr>
          <td>4</td>
          <td>محمد أحمد علي</td>
          <td>0224165456</td>
          <td>20
            <button nbButton ghost size="small" status="warning" [nbTooltip]="'Visits Details' | langg">
              <nb-icon icon="info"></nb-icon>
            </button></td>
          <td class="text-center">
            <button nbButton [routerLink]="['/pages/patients/details',4]" size="small" status="info" langg>Patient
              Profile</button>&nbsp;
            <button nbButton size="small" status="success" langg>Book</button>&nbsp;
            <button nbButton (click)="onDeleteBooking()" size="small" status="danger" langg>Delete</button>
          </td>
        </tr>
        <tr>
          <td>5</td>
          <td>منى السيد عبد الحفيظ</td>
          <td>01245646546</td>
          <td>5
            <button nbButton ghost size="small" status="warning" [nbTooltip]="'Visits Details' | langg">
              <nb-icon icon="info"></nb-icon>
            </button></td>
          <td class="text-center">
            <button nbButton [routerLink]="['/pages/patients/details',5]" size="small" status="info" langg>Patient
              Profile</button>&nbsp;
            <button nbButton size="small" status="success" langg>Book</button>&nbsp;
            <button nbButton (click)="onDeleteBooking()" size="small" status="danger" langg>Delete</button>
          </td>
        </tr> -->
      </tbody>
    </table>
    <pagination [boundaryLinks]="true" [itemsPerPage]="10" [totalItems]="500" [ngModel]="1" [maxSize]="10"
      previousText="&lsaquo;" nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;"></pagination>
    <!-- <pagination [boundaryLinks]="true" [itemsPerPage]="pagination.pageSize" [totalItems]="pagination.totalItemCount"
    [(ngModel)]="pagination.pageNumber" (pageChanged)="pageChanged($event);" previousText="&lsaquo;"
    nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;">
  </pagination> -->
  </nb-card-body>
</nb-card>

<swal #deleteSwal icon="error" showCancelButton="true" focusCancel="true" [title]="'Attention !' | langg"
  [text]="'This data will be deleted forever and all other data related to it, and it will not be retrievable again!' | langg"
  [confirmButtonText]="'Delete' | langg" [cancelButtonText]="'Cancel' | langg" confirmButtonColor="#ff3d71">
</swal>

<swal #doneSwal [title]="'Success' | langg" [text]="'Done successfully!' | langg" icon="success" timer="2000"
  [showConfirmButton]="false">
</swal>
