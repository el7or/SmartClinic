<form #form="ngForm" (ngSubmit)="onSave()" aria-labelledby="title" [nbSpinner]="formLoading" nbSpinnerStatus="success">
  <nb-card>
    <nb-card-body>
      <div class="row">
        <div class="col-md-4">
          <label class="label"><span langg>Bookings prices</span>:</label>
          <table class="table">
            <tr *ngFor="let item of bookingTypePrices">
              <td><span langg>{{item.title}}</span>:</td>
              <td><input nbInput type="number" [min]="0" ngModel [name]="item.type" [(ngModel)]="item.price"
                  fieldSize="small">
                <label langg>EGP</label>
                <ng-container *ngIf="item.price<0">
                  <p class="error-message text-danger" langg>
                    Price cannot be less than: 0
                  </p>
                </ng-container>
              </td>
            </tr>
          </table>
          <button nbButton size="small" type="button" (click)="onAddType()" class="mx-1 mb-1">
            <nb-icon icon="plus-outline"></nb-icon><span langg>Add Booking Type</span>
          </button>
        </div>
        <div class="col-md-4">
          <label class="label"><span langg>Services prices</span>:</label>
          <table class="table">
            <tr *ngFor="let item of bookingServicePrices">
              <td><span langg>{{item.title}}</span>:</td>
              <td><input nbInput type="number" [min]="0" ngModel [name]="item.service" [(ngModel)]="item.price"
                  fieldSize="small">
                <label langg>EGP</label>
                <ng-container *ngIf="item.price<0">
                  <p class="error-message text-danger" langg>
                    Price cannot be less than: 0
                  </p>
                </ng-container>
              </td>
            </tr>
          </table>
          <button nbButton size="small" type="button" (click)="onAddService()" class="mx-1 mb-1">
            <nb-icon icon="plus-outline"></nb-icon><span langg>Add Service</span>
          </button>
        </div>
        <div class="col-md-4">
          <label class="label"><span langg>Discounts prices</span>:</label>
          <table class="table">
            <tr *ngFor="let item of bookingDiscountPrices">
              <td><span langg>{{item.title}}</span>:</td>
              <td><input nbInput type="number" [min]="0" ngModel [name]="item.discount" [(ngModel)]="item.price"
                  fieldSize="small">
                <ng-container *ngIf="item.price<0">
                  <p class="error-message text-danger" langg>
                    Price cannot be less than: 0
                  </p>
                </ng-container>
              </td>
              <td>
                <nb-select [(ngModel)]="item.isPercent" [ngModelOptions]="{standalone: true}" size="small">
                  <nb-option [value]="false" langg>EGP</nb-option>
                  <nb-option [value]="true">%</nb-option>
                </nb-select>
              </td>
            </tr>
          </table>
          <button nbButton size="small" type="button" (click)="onAddDiscount()" class="mx-1 mb-1">
            <nb-icon icon="plus-outline"></nb-icon><span langg>Add Discount</span>
          </button>
        </div>
      </div>
    </nb-card-body>
    <nb-card-footer>
      <div class="text-center nbButton-group mt-1">
        <button nbButton type="submit" status="success" [disabled]="!form.valid" langg>Save</button>
        <button nbButton type="button" status="danger" (click)="location.back()" langg>Cancel</button>
      </div>
    </nb-card-footer>
  </nb-card>
</form>

<swal #doneSwal [title]="'Success' | langg" [text]="'Done successfully!' | langg" icon="success" timer="2000"
  [showConfirmButton]="false">
</swal>
